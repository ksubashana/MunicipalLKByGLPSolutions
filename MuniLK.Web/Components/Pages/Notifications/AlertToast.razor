@using Syncfusion.Blazor.Notifications

<SfToast @ref="ToastRef"
         Timeout="@GlobalTimeout"
         ShowCloseButton="true"
         Target=".content">
    <ToastPosition X="Right" Y="Top"></ToastPosition>
</SfToast>

@code {
    private SfToast? ToastRef;
    private int GlobalTimeout = 3000; // fallback for non-error toasts

    public async Task ShowToastAsync(string message, ToastType type = ToastType.Info)
    {
        if (ToastRef == null) return;

        string cssClass = type switch
        {
            ToastType.Success => "e-toast-success",
            ToastType.Error => "e-toast-danger",
            ToastType.Warning => "e-toast-warning",
            _ => "e-toast-info"
        };

        // Per-toast timeout: 0 keeps it open until manually closed.
        var perToastTimeout = type == ToastType.Error ? 0 : 3000;

        var toastModel = new ToastModel
        {
            Content = message,
            CssClass = cssClass,
            ShowCloseButton = true,
            Timeout = perToastTimeout
        };

        await ToastRef.ShowAsync(toastModel);
    }

    public enum ToastType
    {
        Success,
        Info,
        Warning,
        Error
    }
}
